[build]
builder = "NIXPACKS"
buildCommand = "npm install && npx prisma generate && npm run build"

[deploy]
# Usa solo il processo web (Next.js)
# Il processo IRC va su un servizio separato
startCommand = "npm run start"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Railway assegner√† automaticamente $PORT per Next.js (es: 3000)
# NON impostare PORT=6667 nelle variabili d'ambiente!